#!/bin/bash

if [ "${1##--extensions=}" != "$1" ]
then
extensions=${1##--extensions=}
shift
else
die missing extensions. Are you calling $0 manually?
fi

pattern=$1
shift
path=${1-.}
shift
extra=$*

includes=
for e in ${extensions}
do
  includes+=' --include="*.'$e'"'
done

bash -c "grep --color=auto -rnw ${includes} ${pattern} ${path} ${extra}"
